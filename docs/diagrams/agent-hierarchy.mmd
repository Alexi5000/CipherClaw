%%{init: {'theme': 'dark', 'themeVariables': {'primaryColor': '#7c3aed', 'primaryTextColor': '#e0e0e0', 'primaryBorderColor': '#00ff41', 'lineColor': '#00ff41'}}}%%

graph TB
    subgraph HIERARCHY["CipherClaw Agent Hierarchy"]
        direction TB

        V["ğŸ‘‘ Veronica Â· Sovereign AI<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Tier: Sovereign Â· Controls All Agents<br/>Delegates to Rose & Phantom"]

        subgraph TIER2["Orchestrators Â· Tier 2"]
            R["ğŸŒ¹ Rose Â· Shaman Orchestrator<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>CRM Â· Content Â· Social Media<br/>Lead Pipeline Â· Outreach"]
            PH["ğŸ‘» Phantom Â· Debug Orchestrator<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Debug All Agents & Systems<br/>10 Core Debug Capabilities"]
        end

        V -->|"commands"| R
        V -->|"commands"| PH

        subgraph TIER3["CipherClaw Specialists Â· Tier 3"]
            TA["ğŸ” Trace Analyst<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Trace Ingestion & Indexing<br/>Causal Graph Construction<br/>Anomaly Detection<br/>Cascade Identification"]
            EC["âš¡ Error Classifier<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Error Pattern Matching<br/>Severity Assessment<br/>Root Cause Analysis<br/>Fix Suggestion Generation"]
            CP["ğŸ§  Cognitive Profiler<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Cognitive Fingerprinting<br/>Soul Integrity Monitoring<br/>Memory Health Analysis<br/>Behavioral Drift Detection"]
        end

        PH -->|"delegates"| TA
        PH -->|"delegates"| EC
        PH -->|"delegates"| CP

        subgraph TIER4["CipherClaw Workers Â· Tier 4"]
            FT["ğŸ§ª Flow Tester<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Flow Test Synthesis<br/>Test Execution<br/>Coverage Analysis<br/>Regression Detection"]
        end

        PH -->|"delegates"| FT

        subgraph DOMAINS["Debug Coverage"]
            direction LR
            DA["ğŸ¤– Agent<br/>Command"]
            DC["ğŸ“Š CRM<br/>Pipeline"]
            DS["ğŸ“ Content<br/>& Social"]
            DM["ğŸ§  Memory<br/>System"]
        end

        TA -->|"monitors"| DA
        TA -->|"monitors"| DC
        EC -->|"monitors"| DS
        CP -->|"monitors"| DM
    end

    style V fill:#dc2626,stroke:#ff4444,stroke-width:3px,color:#fff
    style R fill:#b91c1c,stroke:#ef4444,stroke-width:2px,color:#fff
    style PH fill:#7c3aed,stroke:#00ff41,stroke-width:3px,color:#fff
    style TA fill:#2563eb,stroke:#60a5fa,stroke-width:2px,color:#fff
    style EC fill:#ea580c,stroke:#fb923c,stroke-width:2px,color:#fff
    style CP fill:#059669,stroke:#34d399,stroke-width:2px,color:#fff
    style FT fill:#0891b2,stroke:#22d3ee,stroke-width:2px,color:#fff
    style DA fill:#0f172a,stroke:#00ff41,stroke-width:1px,color:#86efac
    style DC fill:#0f172a,stroke:#00ff41,stroke-width:1px,color:#86efac
    style DS fill:#0f172a,stroke:#00ff41,stroke-width:1px,color:#86efac
    style DM fill:#0f172a,stroke:#00ff41,stroke-width:1px,color:#86efac
